# æœªå®Œç¨¿ Â· Unfinished Draft

> ä¸€ä¸ªé¢å‘ä¸ªäººæˆé•¿çš„å…¨æ ˆåšå®¢ç³»ç»Ÿ â€”â€” è®°å½•å­¦ä¹ å†ç¨‹ã€å±•ç¤ºé¡¹ç›®ä½œå“ã€åˆ†äº«æŠ€æœ¯è¸©å‘ã€‚

[![Next.js](https://img.shields.io/badge/Next.js-16-black?logo=next.js)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Prisma](https://img.shields.io/badge/Prisma-5.22-2D3748?logo=prisma)](https://www.prisma.io/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Neon-336791?logo=postgresql)](https://neon.tech/)
[![TailwindCSS](https://img.shields.io/badge/TailwindCSS-3.x-38B2AC?logo=tailwind-css)](https://tailwindcss.com/)
[![License](https://img.shields.io/badge/license-ISC-green)](LICENSE)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

**æœªå®Œç¨¿** æ˜¯ä¸€ä¸ªåŸºäº Next.js 16 å…¨æ ˆå¼€å‘çš„ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œé‡‡ç”¨ App Router æ¶æ„ï¼Œå‰åç«¯ä¸€ä½“ï¼Œæ•°æ®åº“æ‰˜ç®¡äº Neon (PostgreSQL)ã€‚é¡¹ç›®æ—¨åœ¨æä¾›ä¸€ä¸ªç®€æ´ã€ç¾è§‚ã€åŠŸèƒ½å®Œæ•´çš„ä¸ªäººå†…å®¹å±•ç¤ºå¹³å°ï¼Œæ”¯æŒæ–‡ç« åˆ›ä½œã€é¡¹ç›®å±•ç¤ºã€ç¬”è®°ç®¡ç†ã€è¸©å‘è®°å½•ç­‰å¤šç§å†…å®¹å½¢å¼ã€‚

ç•Œé¢é‡‡ç”¨ã€Œè“ç´«ç²‰ç™½ã€æ¸å˜è®¾è®¡è¯­è¨€ï¼Œç»“åˆ Framer Motion åŠ¨ç”»å’Œ Aceternity UI ç»„ä»¶ï¼Œæ‰“é€ å‡ºå…¼å…·ç§‘æŠ€æ„Ÿä¸æ¸©åº¦æ„Ÿçš„ç°ä»£åšå®¢ä½“éªŒã€‚

---

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ“ å†…å®¹åˆ›ä½œ
- **æ–‡ç« ç³»ç»Ÿ**ï¼šæ”¯æŒ Markdown ç¼–å†™ã€å°é¢ä¸Šä¼ ã€åˆ†ç±»/æ ‡ç­¾ç®¡ç†ã€è‰ç¨¿/å‘å¸ƒçŠ¶æ€åˆ‡æ¢
- **AI æ™ºèƒ½æ¶¦è‰²**ï¼šå†…ç½® NVIDIA AI æ¥å…¥ï¼Œä¸€é”®å¯¹æ–‡ç« æ‰§è¡Œ 8 ç»´åº¦ä¼˜åŒ–ï¼ˆè¯­æ³•ã€ç®€æ´ã€è¿è´¯ã€æµç•…ã€è¯æ±‡ã€å¸å¼•åŠ›ã€ä¸Šä¸‹æ–‡é€‚åº”ã€åŸåˆ›æ€§ï¼‰ï¼Œå¹¶ç”Ÿæˆè¯¦ç»†ä¼˜åŒ–æŠ¥å‘Šï¼Œæ”¯æŒæ’¤é”€
- **ç¬”è®°æ¨¡å—ï¼ˆNotesï¼‰**ï¼šè½»é‡çº§ç¬”è®°è®°å½•ï¼Œç‹¬ç«‹äºæ–‡ç« çš„å¿«é€Ÿå†…å®¹æ²‰æ·€åŒº
- **è¸©å‘è®°å½•ï¼ˆPitfallsï¼‰**ï¼šä¸“é—¨è®°å½•æŠ€æœ¯è¸©å‘ä¸è§£å†³æ–¹æ¡ˆçš„æ¨¡å—
- **å½’æ¡£è§†å›¾ï¼ˆArchiveï¼‰**ï¼šæŒ‰æ—¶é—´è½´æµè§ˆå†å²å†…å®¹

### ğŸ—‚ï¸ é¡¹ç›®å±•ç¤º
- **3D å¡ç‰‡é¡¹ç›®å¢™**ï¼šåŸºäº Aceternity UI çš„ 3D æ‚¬æµ®å¡ç‰‡ï¼Œå±•ç¤ºä¸ªäººå¼€æº/ä½œå“é¡¹ç›®
- æ”¯æŒé¡¹ç›®åˆ†ç±»ï¼ˆWeb / ç§»åŠ¨ç«¯ / æ¡Œé¢ç«¯ / å‘½ä»¤è¡Œ / å¼€æºåº“ / æ¸¸æˆ / å…¶ä»–ï¼‰
- æ”¯æŒé¡¹ç›®ç½®é¡¶ã€å°é¢å›¾ã€GitHub é“¾æ¥ã€åœ¨çº¿æ¼”ç¤ºé“¾æ¥
- ç®¡ç†å‘˜å¯ç›´æ¥åœ¨åˆ—è¡¨é¡µç¼–è¾‘é¡¹ç›®

### ğŸ‘¤ ç”¨æˆ·ç³»ç»Ÿ
- ç”¨æˆ·æ³¨å†Œ / ç™»å½•ï¼ˆJWT æ— çŠ¶æ€é‰´æƒï¼‰
- å¯†ç  bcrypt åŠ å¯†å­˜å‚¨
- ä¸ªäººä¸­å¿ƒï¼šç¼–è¾‘å¤´åƒã€ä¸ªäººç®€ä»‹
- **å…³äºæˆ‘é¡µé¢**ï¼šæ”¯æŒç®¡ç†å‘˜è‡ªå®šä¹‰ Markdown å†…å®¹

### ğŸ’¬ äº’åŠ¨åŠŸèƒ½
- æ–‡ç« è¯„è®ºç³»ç»Ÿï¼ˆå‘è¡¨ / æŸ¥çœ‹è¯„è®ºï¼‰
- æ–‡ç« é˜…è¯»é‡ç»Ÿè®¡
- æ–‡ç« åˆ†ç±» & æ ‡ç­¾ç­›é€‰

### ğŸ¨ ç•Œé¢ä½“éªŒ
- å“åº”å¼å¸ƒå±€ï¼ŒPC ä¼˜å…ˆï¼Œå®Œæ•´é€‚é…å¹³æ¿ä¸ç§»åŠ¨ç«¯
- Framer Motion é¡µé¢è¿‡æ¸¡ä¸å¾®åŠ¨æ•ˆ
- Aceternity UI ç»„ä»¶ï¼ˆBentoGridã€3D Cardã€CardStack ç­‰ï¼‰
- å›¾ç‰‡è‡ªåŠ¨å‹ç¼©ä¸Šä¼ ï¼ˆbrowser-image-compressionï¼‰
- æ‡’åŠ è½½å›¾ç‰‡ + åŠ è½½å¤±è´¥å…œåº•å ä½å›¾

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| **å‰ç«¯æ¡†æ¶** | Next.js 16 (App Router) |
| **è¯­è¨€** | TypeScript 5.x |
| **æ ·å¼** | TailwindCSS 3.x + è‡ªå®šä¹‰ CSS å˜é‡è®¾è®¡ç³»ç»Ÿ |
| **åŠ¨ç”»** | Framer Motion |
| **UI ç»„ä»¶** | Aceternity UI (BentoGrid, 3D Card, CardStack) |
| **å›¾æ ‡** | Lucide React |
| **ORM** | Prisma 5.22 |
| **æ•°æ®åº“** | PostgreSQLï¼ˆNeon äº‘æ‰˜ç®¡ï¼‰ |
| **è®¤è¯** | JWT (jsonwebtoken) + bcrypt |
| **AI æ¥å…¥** | NVIDIA NIM API (llama-3.1-8b-instruct) |
| **å›¾ç‰‡å¤„ç†** | browser-image-compression (Base64 å‹ç¼©) |
| **HTTP å®¢æˆ·ç«¯** | Axios |
| **æ•°æ®æ ¡éªŒ** | Zod |
| **éƒ¨ç½²å¹³å°** | Vercel |

---

## ğŸš€ æœ¬åœ°å®‰è£…ä¸è¿è¡Œ

### å‰ææ¡ä»¶

- Node.js >= 18.x
- npm >= 9.x
- ä¸€ä¸ª [Neon](https://neon.tech/) PostgreSQL æ•°æ®åº“å®ä¾‹

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/Vortex745/blog.git
cd blog
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# Neon PostgreSQL è¿æ¥å­—ç¬¦ä¸²
DATABASE_URL="postgresql://user:password@host/dbname?sslmode=require"

# JWT å¯†é’¥ï¼ˆè‡ªå®šä¹‰ä»»æ„å¼ºå¯†é’¥ï¼‰
JWT_SECRET="your-secret-key-here"

# NVIDIA AI API å¯†é’¥ï¼ˆå¯é€‰ï¼Œç”¨äº AI æ¶¦è‰²åŠŸèƒ½ï¼‰
NVIDIA_API_KEY="nvapi-xxxxxxxxxxxx"
```

### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
# æ‰§è¡Œæ•°æ®åº“è¿ç§»
npm run db:init

# ï¼ˆå¯é€‰ï¼‰å¡«å……åˆå§‹ç§å­æ•°æ®
npm run db:seed
```

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) å³å¯çœ‹åˆ°åšå®¢é¦–é¡µã€‚

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡å | å¿…å¡« | è¯´æ˜ |
|--------|------|------|
| `DATABASE_URL` | âœ… | Neon PostgreSQL è¿æ¥å­—ç¬¦ä¸²ï¼Œéœ€åŒ…å« `?sslmode=require` |
| `JWT_SECRET` | âœ… | JWT ç­¾åå¯†é’¥ï¼Œå»ºè®®ä½¿ç”¨éšæœºé•¿å­—ç¬¦ä¸² |
| `NVIDIA_API_KEY` | âŒ | NVIDIA NIM API Keyï¼Œç”¨äº AI æ¶¦è‰²åŠŸèƒ½ï¼Œä¸å¡«åˆ™è¯¥åŠŸèƒ½ä¸å¯ç”¨ |

### ç®¡ç†å‘˜è´¦æˆ·

ç³»ç»Ÿé€šè¿‡ç”¨æˆ·åæ¥åˆ¤æ–­ç®¡ç†å‘˜èº«ä»½ï¼Œé»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·åä¸º `zijin`ã€‚

å¦‚éœ€ä¿®æ”¹ï¼Œè¯·ç¼–è¾‘ `src/lib/permissions.ts`ï¼š

```typescript
export const ADMIN_USERNAME = 'your-username';
```

ç®¡ç†å‘˜æ‹¥æœ‰é¢å¤–æƒé™ï¼šå‘å¸ƒæ–‡ç« ã€ç®¡ç†é¡¹ç›®ã€ç¼–è¾‘"å…³äºæˆ‘"é¡µé¢ç­‰ã€‚

---

## ğŸ—„ï¸ æ•°æ®åº“ç»“æ„

é¡¹ç›®ä½¿ç”¨ Prisma ç®¡ç†æ•°æ®æ¨¡å‹ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æ•°æ®è¡¨ï¼š

| è¡¨å | è¯´æ˜ |
|------|------|
| `User` | ç”¨æˆ·ä¿¡æ¯ï¼ˆç”¨æˆ·åã€é‚®ç®±ã€å¯†ç å“ˆå¸Œã€å¤´åƒï¼‰ |
| `Post` | æ–‡ç« ï¼ˆæ ‡é¢˜ã€Markdown å†…å®¹ã€å°é¢ã€çŠ¶æ€ã€é˜…è¯»é‡ï¼‰ |
| `Category` | æ–‡ç« åˆ†ç±» |
| `Tag` | æ–‡ç« æ ‡ç­¾ |
| `Comment` | æ–‡ç« è¯„è®º |
| `Project` | é¡¹ç›®å±•ç¤ºï¼ˆæ ‡é¢˜ã€æè¿°ã€æŠ€æœ¯æ ˆã€å°é¢ã€ç±»å‹ã€é“¾æ¥ï¼‰ |
| `About` | å…³äºæˆ‘é¡µé¢å†…å®¹ï¼ˆMarkdownï¼‰ |

è¯¦ç»†å­—æ®µè®¾è®¡å‚è§ [database.md](./database.md)ã€‚

---

## ğŸŒ éƒ¨ç½²æ­¥éª¤ï¼ˆVercelï¼‰

### è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. å°†æœ¬ä»“åº“ Fork åˆ°ä½ çš„ GitHub è´¦å·
2. ç™»å½• [Vercel](https://vercel.com/)ï¼Œç‚¹å‡» **New Project**ï¼Œå¯¼å…¥è¯¥ GitHub ä»“åº“
3. åœ¨ **Environment Variables** ä¸­å¡«å†™ä»¥ä¸‹å˜é‡ï¼š
   - `DATABASE_URL`
   - `JWT_SECRET`
   - `NVIDIA_API_KEY`ï¼ˆå¯é€‰ï¼‰
4. **Build Command** ä¿æŒé»˜è®¤ï¼ˆ`prisma generate && next build`ï¼‰
5. ç‚¹å‡» **Deploy**ï¼Œç­‰å¾…æ„å»ºå®Œæˆ

### æ‰‹åŠ¨æ„å»º

```bash
npm run build
npm run start
```

> âš ï¸ **æ³¨æ„**ï¼šVercel ä½¿ç”¨åªè¯»æ–‡ä»¶ç³»ç»Ÿï¼Œå›¾ç‰‡ä¸Šä¼ å·²é€‚é…ä¸º Base64 ç¼–ç å­˜å…¥æ•°æ®åº“ï¼Œæ— éœ€é¢å¤–çš„æ–‡ä»¶å­˜å‚¨æœåŠ¡ã€‚

---

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
blog/
â”œâ”€â”€ prisma/               # Prisma schema ä¸æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â””â”€â”€ seed.ts
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js App Router é¡µé¢
â”‚   â”‚   â”œâ”€â”€ page.tsx      # é¦–é¡µï¼ˆæ–‡ç« åˆ—è¡¨ + BentoGridï¼‰
â”‚   â”‚   â”œâ”€â”€ post/         # æ–‡ç« è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ write/        # å†™æ–‡ç« ï¼ˆå« AI æ¶¦è‰²ï¼‰
â”‚   â”‚   â”œâ”€â”€ projects/     # é¡¹ç›®å±•ç¤ºï¼ˆ3D å¡ç‰‡å¢™ï¼‰
â”‚   â”‚   â”œâ”€â”€ write-project/# é¡¹ç›®åˆ›å»º/ç¼–è¾‘
â”‚   â”‚   â”œâ”€â”€ notes/        # ç¬”è®°æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ pitfalls/     # è¸©å‘è®°å½•
â”‚   â”‚   â”œâ”€â”€ archive/      # å½’æ¡£è§†å›¾
â”‚   â”‚   â”œâ”€â”€ about/        # å…³äºæˆ‘
â”‚   â”‚   â”œâ”€â”€ profile/      # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ login/        # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ register/     # æ³¨å†Œé¡µ
â”‚   â”‚   â””â”€â”€ api/          # API è·¯ç”±ï¼ˆRESTfulï¼‰
â”‚   â”œâ”€â”€ components/       # å¯å¤ç”¨ UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/           # Aceternity UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ImageUploader.tsx
â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.tsx
â”‚   â”‚   â””â”€â”€ Navbar.tsx
â”‚   â”œâ”€â”€ context/          # React Context
â”‚   â”‚   â””â”€â”€ AuthContext.tsx
â”‚   â””â”€â”€ lib/              # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ axios.ts      # Axios å®ä¾‹ï¼ˆè‡ªåŠ¨é™„åŠ  JWT Tokenï¼‰
â”‚       â”œâ”€â”€ prisma.ts     # Prisma å®¢æˆ·ç«¯å•ä¾‹
â”‚       â””â”€â”€ permissions.ts# æƒé™é…ç½®
â”œâ”€â”€ .env                  # ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤åˆ° Gitï¼‰
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„åŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'feat: add amazing feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æäº¤ Pull Request

### Commit è§„èŒƒ

æœ¬é¡¹ç›®éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

| ç±»å‹ | è¯´æ˜ |
|------|------|
| `feat` | æ–°åŠŸèƒ½ |
| `fix` | Bug ä¿®å¤ |
| `docs` | æ–‡æ¡£æ›´æ–° |
| `style` | ä»£ç æ ¼å¼è°ƒæ•´ |
| `refactor` | é‡æ„ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰ |
| `perf` | æ€§èƒ½ä¼˜åŒ– |
| `chore` | æ„å»º/å·¥å…·é“¾å˜æ›´ |

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [ISC License](LICENSE) å¼€æºã€‚

---

## ğŸ‘¨â€ğŸ’» ä½œè€…

**zijin** Â· ä¸€ä¸ªçƒ­çˆ±æŠ˜è…¾çš„å¼€å‘è€…

- GitHub: [@Vortex745](https://github.com/Vortex745)
- Blog: [æœªå®Œç¨¿](https://github.com/Vortex745/blog)

---

*ã€Œæœ‰äº›æ¢¦å¹¶ä¸é¥è¿œï¼Œç”¨ä»£ç ä¸ˆé‡æ¯ä¸€æ­¥ã€*
